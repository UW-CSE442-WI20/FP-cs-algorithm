<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="https://uw-cse442-wi20.github.io/FP-cs-algorithm/src.6d7f29ac.css">
	  <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,600,700,900&display=swap" rel="stylesheet">
	  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js"></script>
    <title>Stable Matching Solution Visualized</title>
  </head>
  <body>
	<div id="main">
		<h1>The Problem</h1>
		<div>
			<h2>Perfect Matching:</h2>
			<div>A perfect matching is a matching of men and weomen in which everyone is matched
		monogamously. Each man gets exactly one woman and each woman gets exactly one man.</div>

			<h2>Unstable Pairs:</h2>
			<div>In a matching A, an unmatched pair M-W is unstable if man M and woman W prefer
			each other to their current partners.
			For example consider the following matching with the pairs M1-W1 and M2-W2:</div>
			<div id="problem-explanation1"></div> <!-- svg appended in explanation.js -->

			<div>The green lines above represent the current pairs in the matching A.<br>
			Suppose:<br>
			  1) M1 prefers W2 to W1 and<br>
			  2) W2 prefers M1 to M2<br>
			Then the pair M1-W2 (represented by the red line above) is an unstable pair
			because both M1 and W2 prefer each other to their current partners.</div>

			<h2>Stable Matching:</h2>
			<div>A perfect matching with no unstable pairs is called a stable matching.</div>

			<h2>Stable Matching Problem:</h2>
			<div>Given the preference lists of n men and n women, find a stable matching if one
			exists.</div>
		</div>
		<h1>The Solution</h1>
		<h2>Algorithm pseudocode</h2>
		<div id="solution-pseudocode">
		<pre><span id="pcode1">algorithm <b>stable_matching</b>:
		<span id="pcode2">Initialize all <i>men</i> and <i>women</i> to <i>free</i></span>
		<span id="pcode3"><b>while</b> there exists a <i>free</i> man <i>m</i> who still has a woman <i>w</i> to propose to:</span>
			<span id="pcode4"><b>set</b> w <b>to</b> first woman on m's list to whom m has not yet proposed</span>
			<span id="pcode5"><b>if</b> w is <i>free</i>:</span>
				<span id="pcode6">(m, w) become <i>engaged</i></span>
			<span id="pcode7"><b>else</b>:</span>
				<span id="pcode8">some pair (m', w) already exists</span>
				<span id="pcode9"><b>if</b> w prefers m to m' <b>then</b></span>
					<span id="pcode10">m' becomes <i>free</i></span>
					<span id="pcode11">(m, w) become <i>engaged</i></span>
				<span id="pcode12"><b>else</b></span>
					<span id="pcode13">(m', w) remain <i>engaged</i></span></span></pre>
		</div>
		<div>Click next to walk through the solution. Click circles to edit their preference lists.</div>
		<div id="solution"></div>
		<button type="button" id="play-button">Play Algorithm</button>
		<button type="button" id="solution-next">Next Step</button>
		<button type="button" id="solution-reset">Reset</button>
		<button type="button" id="shuffle-prefs">Shuffle Preferences</button>
		<h2>Try it yourself</h2>
		<div id="user-interact"></div>
		<button type="button" id="check-work">Check My Work</button>
		<button type="button" id="try-reset">Reset</button>
	</div>
    <script src="https://uw-cse442-wi20.github.io/FP-cs-algorithm/explanation.21805a9a.js"></script>
    <script src="https://uw-cse442-wi20.github.io/FP-cs-algorithm/src.69996f38.js"></script>
    <script src="https://uw-cse442-wi20.github.io/FP-cs-algorithm/user-interact.0faa1e2f.js"></script>
  </body>
</html>
